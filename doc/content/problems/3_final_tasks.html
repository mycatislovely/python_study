<!DOCTYPE html>
<html lang="en">
<head><title>3 Итоговые задачи</title>
<meta charset="utf-8">
<link rel="shortcut icon" type="image/png" href="../../favicon.png">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../../layout/content.css">
<link rel="stylesheet" type="text/css" href="../../layout/more_prog_langs.css">
<link rel="stylesheet" type="text/css" href="../../themes/light/content_theme.css">
<link rel="stylesheet" type="text/css" href="../../themes/light/more_prog_langs_theme.css">
<link rel="stylesheet" type="text/css" href="../../layout/layout.css">
<link rel="stylesheet" type="text/css" href="../../themes/light/layout_theme.css">
<link rel="stylesheet" type="text/css" href="../../custom.css">

<link rel="stylesheet" type="text/css" href="../../layout/flex.css">
</head>
<body>

<div class="header">
<img id="burger" src="../../layout/pict/burger.png" 
onclick="toggleSidebar();return false;" class="toggle_narrow_only_inline" alt="Sidebar">

<a 
class="header_item "
href="../../../readme.html"><img 
class="logo_image" src="../../favicon.png" alt="Logo"></a><a 
class="header_item toggle_wide_only_inline"
href="../../../readme.html"><span class="">Home</span></a><a 
class="header_item toggle_wide_only_inline"
href="../index_page.html"><span class="">Index</span></a><a 
class="header_item "
href="../todo_page.html"><span class="">TODO</span></a><a 
class="header_item "
href="../problems_page.html"><span class="">Задачи</span></a><a 
class="header_item toggle_narrow_only_inline"
href="../index_page.html"><img 
class="header_image index_image" src="../../layout/pict/search.png" alt="Index"></a><a 
class="header_item toggle_wide_only_inline "
href="https://github.com/mycatislovely/python_study"><span class="">GitHub</span></a>
<a href="../../../doc_src/problems/3_final_tasks.txt" class="source_file toggle_wide_only_inline" title="Source text">&lt;/&gt;</a>

<a href="2_lists.html" title="Previous: 2 Циклы, строки, списки"><img class="headerNavArrows"
src="../../layout/pict/previous_page_h21px.png" alt="Back"></a>
 
<a href="4_python_drill.html" title="Next: 4 Python drill"><img class="headerNavArrows"
src="../../layout/pict/next_page_h21px.png" alt="Next"></a>


<span class="headerTitle">3 Итоговые задачи</span>

</div>

<div class="sidebarWrapper">
<div class="sidebar">
    <table class="sidebarAligner">
        <tr><td class="valign_top">
            <div class="align_right toggle_narrow_only_block">
            <a class="sidebar_item_inline align_right" href="https://github.com/mycatislovely/python_study">GitHub</a>
            
            <a href="../../../doc_src/problems/3_final_tasks.txt" class="sidebar_item_inline source_file align_right" 
                title="Source text">&lt;/&gt;</a>
            
            </div>
            <div class="sidebar_block">
            
            <a class="sidebar_item " href="../about.html">Введение</a>
            <a class="sidebar_item " href="../architecture.html">Основы программирования</a>
            <a class="sidebar_item " href="../program_design.html">Проектирование программ</a>
            <a class="sidebar_item " href="../command_line_work.html">Работа в командной строке</a>
            <a class="sidebar_item " href="../related_technologies.html">Сопутствующие технологии</a>
            <a class="sidebar_item " href="../python_working_environment.html">Рабочая среда Python</a>
            <a class="sidebar_item " href="../python_program_elements.html">Элементы программы на языке Python</a>
            <a class="sidebar_item " href="../programming_techniques.html">Приемы программирования</a>
            <a class="sidebar_item " href="../algorithms_and_data_structures.html">Алгоритмы и структуры данных</a>
            <a class="sidebar_item " href="../web_programming.html">Веб-программирование</a>
            <a class="sidebar_item " href="../technical_English.html">Technical English</a>
            </div><div class="sidebar_block">
            <h3>Useful links</h3>
            <a class="sidebar_item " href="https://www.python.org/">Python</a>
            <a class="sidebar_item " href="https://git-scm.com/">Git</a>
            </div>
        </td></tr>
        <tr><td class="bottom valign_bottom"><span class="poweredBy">Powered by <a class="poweredByLink"
            href="https://github.com/arctrong/md2html">md2html_py</a> 1.0.7</span>
        </td></tr>
    </table>
</div>
</div>

<p style="font-size:44px;font-weight:bold;margin:0 0 30px 0;">3 Итоговые задачи</p>

<div class="toc">
<ul>
<li><a href="#_1">Чтение из файла</a></li>
<li><a href="#_2">Поиск числа в массиве</a></li>
<li><a href="#_3">Сжимает повторяющиеся символы в строке</a></li>
<li><a href="#_4">Расшифровка сжатого текста</a></li>
<li><a href="#_5">Кодирование длин серий</a></li>
<li><a href="#_6">Составление словаря</a></li>
<li><a href="#-">Средне-арифметическое число</a></li>
<li><a href="#_7">Доступ к аргументам командной строки</a></li>
<li><a href="#_8">Цифры по спирали</a></li>
<li><a href="#_9">Список чисел одной строкой</a></li>
<li><a href="#_10">Футбол</a></li>
<li><a href="#_11">Шифрование</a></li>
<li><a href="#_12">Проверка орфографии</a></li>
<li><a href="#_13">Определение координат</a></li>
<li><a href="#_14">Средний рост</a></li>
<li><a href="#_15">Интерпретатор математического выражения</a></li>
<li><a href="#_16">Арифметическая прогрессия</a></li>
<li><a href="#_17">Возраст собаки</a></li>
<li><a href="#_18">Простые числа</a></li>
</ul>
</div>
<hr />
<p><a name="index_entry_p_1"></a></p>
<h1 id="_1">Чтение из файла</h1>
<p>Даны два файла <em>fruits.txt</em> и <em>animals.txt</em>. Надо написать функцию, которая прочитает эти файлы и 
выведет их в консоль.</p>
<pre class="highlight"><code>Яблоки
груши
сливы
мандарины.       </code></pre>
<pre class="highlight"><code>Животные
собака
кот
кабан       </code></pre>
<pre class="highlight"><code class="language-code">def print_file(file_name):
    with open(file_name, 'r', encoding = 'UTF-8') as f:
        for line in f:
            line = line.strip()
            print(line)


print_file('fruits.txt')
print_file('animals.txt')</code></pre>
<p><a name="index_entry_p_2"></a>
Даны два файла <em>fruits.txt</em> и <em>animals.txt</em>. Надо написать функцию, которая прочитает эти файлы и 
пронумеровав их запишет в новый файл, а потом выведет его в консоль.</p>
<pre class="highlight"><code class="language-code">def enumerate_lines(file_name_list, output_file):
    with open(output_file, 'w', encoding = 'UTF-8') as out_file:
        i = 0
        for fm in file_name_list:
            with open(fm, 'r', encoding = 'UTF-8') as f:
                for line in f:
                    i += 1
                    out_file.write(str(i) + '. ' + line.strip() + '\n')


enumerate_lines(['fruits.txt', 'animals.txt'], 'all.txt')
print_file('all.txt') </code></pre>
<pre class="highlight"><code class="language-shell">1. Яблоки
2. груши
3. сливы
4. мандарины.</code></pre>
<hr />
<p><a name="index_entry_p_3"></a></p>
<h1 id="_2">Поиск числа в массиве</h1>
<p>Написать функцию, которая принимает список чисел <strong>L</strong> и число <strong>x</strong> и возвращает <code>Tru</code>если 
число <strong>x</strong> находится в списке <strong>L</strong>. А в противном случае <code>False</code>.</p>
<pre class="highlight"><code class="language-code">def list_contains(l,x):
    for i in l:
        if i == x:
            return True
    return False

print(list_contains([1, 2, 3], 2))       
print(list_contains([1, 2, 3], 5))</code></pre>
<pre class="highlight"><code class="language-shell">True 
False</code></pre>
<hr />
<p><a name="index_entry_p_4"></a></p>
<h1 id="_3">Сжимает повторяющиеся символы в строке</h1>
<p>Узнав, что ДНК не является случайной строкой, только что поступившие в Институт биоинформатики 
студенты группы информатиков предложили использовать алгоритм сжатия, который сжимает повторяющиеся 
символы в строке.</p>
<p>Кодирование осуществляется следующим образом:
s = 'aaaabbсaa' преобразуется в 'a4b2с1a2', то есть группы одинаковых символов исходной строки 
заменяются на этот символ и количество его повторений в этой позиции строки.</p>
<p>Напишите программу, которая считывает строку, кодирует её предложенным алгоритмом и выводит 
закодированную последовательность на стандартный вывод. Кодирование должно учитывать регистр 
символов.</p>
<pre class="highlight"><code class="language-code"># s = input()
s = "aabccCCd"
print(f"s = {s}")
cp = ''
n = 0
res = ''
for c in s:
    if cp == '':
        cp = c
        n = 1
    elif c == cp:
        n += 1
    else:
        res += cp + str(n)
        cp = c
        n = 1
if n &gt; 0:
    res += cp + str(n)    
print(res)</code></pre>
<p>Эту же задачу можно выполнить используя словарь.</p>
<pre class="highlight"><code class="language-code">s = input().lower()     # получаем строку для подсчета букв и форматируем методом в нижний регистр
d = {}                  # создаем пустой словарь для добавления встречающихся букв и мих количества
for i in s:             # циклом проходимся по строке(берём каждую букву)
     if i.isalpha():    # проверяем если это буква, то проверяем встречалась ли она, если да то к количеству прибавляем 1, иначе добавлем в словарь
        d[i] = d.get(i, 0) + 1
print(d) </code></pre>
<pre class="highlight"><code>{'z': 6, 'w': 3}</code></pre>
<hr />
<p><a name="index_entry_p_5"></a></p>
<h1 id="_4">Расшифровка сжатого текста</h1>
<p>Напишите программу, которая считывает из файла строку, соответствующую тексту, сжатому с помощью 
кодирования повторов, и производит обратную операцию, получая исходный текст.</p>
<pre class="highlight"><code>print("---------- Расшифровка сжатого текста ----------")    
def decode_file(input_file_name, output_file_name):    
    with open(output_file_name, 'w', encoding = 'UTF-8') as o:
        with open(input_file_name, 'r', encoding = 'UTF-8') as i:
            n = 0
            a = ''
            while True:
                c = i.read(1)
                if not c:
                    break
                if c.isdigit(): 
                    n = n * 10 + int(c)
                else:
                    for g in range(n):
                        o.write(a)
                    a = c
                    n = 0
            for g in range(n):
                o.write(a)


decode_file('dataset_3363_2 (5).txt', 'decoded.txt')
decode_file('test_encoded.txt', 'test_decoded.txt')
print_file('test_encoded.txt') 
print_file('test_decoded.txt') </code></pre>
<hr />
<p><a name="index_entry_p_6"></a>
<a name="series_encoding"></a></p>
<h1 id="_5">Кодирование длин серий</h1>
<p>На вход алгоритму подаётся строка, содержащая цифры и символы латинского алфавита. Эта строка 
разбивается на так называемые "серии", которые кодируются парой число-символ или просто символ 
(в таком случае число считается равным единице). Результат должен содержать эти серии в том же 
порядке, что они и встречаются в исходной строке, при этом каждая серия раскрывается в 
последовательность символов соответствующей длины. </p>
<p><img src="../../pict/text_uncompress.png" title="md2html" class="floatRight" /></p>

<p>Например, рассмотрим строку  </p>
<p><code>3ab4c2CaB</code></p>
<p>Разобъём её на серии</p>
<p><code>3a b 4c 2C a B</code></p>
<p>После чего преобразуем серии и получим исходную закодированную строку:</p>
<p><code>aaabccccCCaB</code></p>
<p style="clear: both;"></p>

<pre class="highlight"><code class="language-code">def decode_str(inp):
    n = 0
    s = []
    for c in inp:
        if c.isdigit(): 
            n = n * 10 + int(c)  
        else:
            s.append((c * n) if n &gt; 0 else c)
            n = 0
    if n &gt; 0:
        raise Exception('Строка завершилась цифрой')  # Вызов исключения, выброс из условия
    return ''.join(s)

print(decode_str(input()))</code></pre>
<hr />
<p><a name="index_entry_p_7"></a></p>
<h1 id="_6">Составление словаря</h1>
<p>Напишите функцию <code>update_dictionary(d, key, value)</code>, которая принимает на вход словарь <code>d</code> и два 
числа: <code>key</code> и <code>value</code>.
Если ключ <code>key</code> есть в словаре <code>d</code>, то добавьте значение <code>value</code>в список, который хранится по этому 
ключу. Если ключа key нет в словаре, то нужно добавить значение в список по ключу <code>2 * key</code>. 
Если и ключа 2 * key нет, то нужно добавить ключ 2 * key в словарь и сопоставить ему список из 
переданного элемента [value].</p>
<p><pre class="highlight"><code class="language-code">def update_dictionary(d, key, value):
     v = d.get(key)
     if v is not None:
        v.append(value)
     else:
        v = d.get(2 * key)
        if v is not None:
            v.append(value)
        else:
            d[2 * key] = [value]</code></pre>
Вызов функции</p>
<pre class="highlight"><code class="language-shell">d = {2 : [1]}
print(d)
update_dictionary(d, 2, 2) 
print(d)                            
update_dictionary(d, 1, 3)
print(d)                            
update_dictionary(d, 3, 4)
print(d) </code></pre>
<p>Функция отработав вернула:</p>
<pre class="highlight"><code class="language-shell">{2: [1]}
{2: [1, 2]}
{2: [1, 2, 3]}
{2: [1, 2, 3], 6: [4]}</code></pre>
<hr />
<p><a name="index_entry_p_8"></a></p>
<h1 id="-">Средне-арифметическое число</h1>
<p>Имеется файл с данными по успеваемости абитуриентов. Он представляет из себя набор строк, где в 
каждой строке записана следующая информация:</p>
<p><code>Фамилия;Оценка_по_математике;Оценка_по_физике;Оценка_по_русскому_языку</code></p>
<p>Поля внутри строки разделены точкой с запятой, оценки — целые числа.</p>
<p>Напишите программу, которая считывает исходный файл с подобной структурой и для каждого абитуриента 
записывает его среднюю оценку по трём предметам на отдельной строке, соответствующей этому 
абитуриенту, в файл с ответом.</p>
<p>Также вычислите средние баллы по математике, физике и русскому языку по всем абитуриентам и добавьте 
полученные значения, разделённые пробелом, последней строкой в файл с ответом.</p>
<p>В качестве ответа на задание прикрепите полученный файл со средними оценками по каждому ученику и 
одной строкой со средними оценками по трём предметам.</p>
<p>Примечание. Для разбиения строки на части по символу ';' можно использовать метод split следующим 
образом:</p>
<p><code>print('First;Second-1 Second-2;Third'.split(';'))</code></p>
<pre class="highlight"><code class="language-code">def average_marks(input_file_name, output_file_name):
    with open(output_file_name, 'w', encoding='UTF-8') as o:
        with open(input_file_name, 'r', encoding='UTF-8') as i:
            n = 0
            s1 = 0
            s2 = 0
            s3 = 0
            while True:
                l = i.readline()  # Читает по одной строке
                if not l:
                    break
                n += 1
                m = l.split(';')
                m1 = int(m[1])
                m2 = int(m[2])
                m3 = int(m[3])
                s1 += m1
                s2 += m2
                s3 += m3
                o.write(str((m1 + m2 + m3) / 3) + '\n')  # Выводит сроку с числами в файл
            o.write(str(s1 / n) + ' ' + str(s2 / n) + ' ' + str(s3 / n))  </code></pre>
<p>Допустим, в файле <code>input_marks.txt</code> находится следующий текст:</p>
<pre class="highlight"><code>Петров;85;92;78
Сидоров;100;88;94
Иванов;58;72;85</code></pre>
<p>Тогда при вызове функции: </p>
<pre class="highlight"><code class="language-code">average_marks('input_marks.txt', 'output_marks.txt')</code></pre>
<p>Будет создан файл <code>output_marks.txt</code> с содержимым:</p>
<pre class="highlight"><code>85.0
94.0
71.66666666666667
81.0 84.0 85.66666666666667</code></pre>
<hr />
<p><a name="index_entry_p_9"></a></p>
<h1 id="_7">Доступ к аргументам командной строки</h1>
<p>Напишите программу, которая запускается из консоли и печатает значения всех переданных аргументов 
на экран (имя скрипта выводить не нужно). Не изменяйте порядок аргументов при выводе.</p>
<p>Для доступа к аргументам командной строки программы подключите модуль <code>sys</code> и используйте переменную 
<code>argv</code> из этого модуля. Можно использовать два способа:</p>
<pre class="highlight"><code class="language-code">from sys import argv
print(*argv[1:])</code></pre>
<pre class="highlight"><code class="language-shell">&gt;python program.py a b c
a b c</code></pre>
<pre class="highlight"><code class="language-code">from sys import argv
for i in range(1, len(argv)):
    print(argv[i], end=' ')</code></pre>
<p>Результат такой же.</p>
<hr />
<p><a name="index_entry_p_10"></a></p>
<h1 id="_8">Цифры по спирали</h1>
<p>Выведите таблицу размером n × n, заполненную числами от 1 до <code>n</code> по спирали, выходящей 
из левого верхнего угла и закрученной по часовой стрелке.</p>
<p>Схема решения:</p>
<p><img alt="" src="../../pict/numbers_in_spiral.png" /></p>
<pre class="highlight"><code class="language-code"># n = int(input())
n = 5
print(n)
m = [[0] * n for i in range(n)]  # список с вложенными списками (1)

value = 0
for level in range(n // 2):
    last = n - 1 - level 
    for i in range(level, last):
        value += 1
        m[level][i] = value
    for j in range(level, last):
        value += 1
        m[j][last] = value
    for i in range(last, level, -1):
        value += 1
        m[last][i] = value   
    for j in range(last, level, -1):
        value += 1
        m[j][level] = value 

if n % 2 != 0:
    k = n // 2
    m[k][k] = value + 1 

for r in m:
    for E in r:
        print(str(E).rjust(3, ' '), end=" ")
    print()</code></pre>
<p>Результат выполнения:</p>
<pre class="highlight"><code class="language-shell">5
  1   2   3   4   5
 16  17  18  19   6
 15  24  25  20   7
 14  23  22  21   8
 13  12  11  10   9</code></pre>
<p>Примечание. Более подробную информацию о создании вложенных списков можно найти 
<a href="python_program_elements.html#list_memory_model">здесь</a>.</p>
<hr />
<p><a name="index_entry_p_11"></a></p>
<h1 id="_9">Список чисел одной строкой</h1>
<p>Напишите программу, на вход которой подаётся список чисел одной строкой. Программа должна для 
каждого элемента этого списка вывести сумму двух его соседей. Для элементов списка, являющихся 
крайними, одним из соседей считается элемент, находящий на противоположном конце этого списка. 
Например, если на вход подаётся список "1 3 5 6 10", то на выход ожидается список "13 6 9 15 7" 
(без кавычек).</p>
<p>Если на вход пришло только одно число, надо вывести его же.</p>
<p>Вывод должен содержать одну строку с числами нового списка, разделёнными пробелом.</p>
<pre class="highlight"><code class="language-shell">a = [int(i) for i in input().split()]
l = len(a)
if l == 1:
    print(a[0])
else:
    for i in range(l):
        if i == 0:
            print(a[1] + a[-1], end=' ') 
        elif i == l-1: 
            print(a[0] + a[l-2])
        else:
            print(a[i+1] + a[i-1], end=' ')</code></pre>
<hr />
<p><a name="index_entry_p_12"></a>
<a name="football"></a></p>
<h1 id="_10">Футбол</h1>
<p>Напишите программу, которая принимает на стандартный вход список игр футбольных команд с результатом 
матча и выводит на стандартный вывод сводную таблицу результатов всех матчей.</p>
<p>За победу команде начисляется 3 очка, за поражение — 0, за ничью — 1.</p>
<p>Формат ввода следующий:
В первой строке указано целое число <code>n</code> — количество завершенных игр.
После этого идет <code>n</code> строк, в которых записаны результаты игры в следующем формате:
Первая_команда;Забито_первой_командой;Вторая_команда;Забито_второй_командой</p>
<p>Вывод программы необходимо оформить следующим образом:
Команда:Всего_игр  Побед  Ничьих  Поражений  Всего_очков</p>
<pre class="highlight"><code class="language-code">n = int(input())
d = {}
for i in range(n):
    team1, s1, team2, s2 = input().split(';')
    diff = int(s1) - int(s2)
    result1 = d.setdefault(team1, [0, 0, 0, 0, 0])
    result2 = d.setdefault(team2, [0, 0, 0, 0, 0])
    result1[0] += 1
    result2[0] += 1
    if diff &gt; 0:
        result1[1] += 1
        result1[4] += 3
        result2[3] += 1
    elif diff &lt; 0:
        result2[1] += 1
        result2[4] += 3
        result1[3] += 1
    else:
        result2[2] += 1
        result2[4] += 1
        result1[2] += 1
        result1[4] += 1
for key, value in d.items():
    print(key + ':' + ' '.join(map(str, value))) # объединение списка в строку</code></pre>
<p>Входные данные:</p>
<pre class="highlight"><code>3
Спартак;9;Зенит;10
Локомотив;12;Зенит;3
Спартак;8;Локомотив;15</code></pre>
<pre class="highlight"><code class="language-shell">&lt; 03_07_football_input.txt
Спартак:2 2 0 0 6
Зенит:2 1 0 1 3
Локомотив:2 0 0 2 0</code></pre>
<hr />
<p><a name="index_entry_p_13"></a>
<a name="crypting"></a></p>
<h1 id="_11">Шифрование</h1>
<p>Напишите программу, которая умеет шифровать и расшифровывать шифр подстановки. Программа принимает 
на вход две строки одинаковой длины, в первой строке записаны символы исходного алфавита, во 
второй строке — символы конечного алфавита, после чего идёт строка, которую нужно зашифровать 
переданным ключом, и ещё одна строка, которую нужно расшифровать.</p>
<pre class="highlight"><code class="language-code">from io import StringIO 

def crypt(string, d_crypt):
    result = StringIO()
    for i in string:        
        result.write(d_crypt[i])  
    return result.getvalue()


d_encrypt = {}
d_decrypt = {}
for c1, c2 in zip(input(), input()):
    d_encrypt[c1] = c2
    d_decrypt[c2] = c1    

print(crypt(input(), d_encrypt))   
print(crypt(input(), d_decrypt))  </code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>В данной задаче мы используем объект <code>StringIO</code> для более эффективного формирования строки.
Более подробно см. <a href="../programming_techniques.html#string_buffer">здесь</a>.</p>
</div>
<p>Входные данные:        </p>
<pre class="highlight"><code>abcd
*d%#
abacabadaba
#*%*d*%</code></pre>
<pre class="highlight"><code class="language-shell">&gt;python crypting.py &lt; crypting_input.txt
*d*%*d*#*d*
dacabac</code></pre>
<hr />
<p><a name="index_entry_p_14"></a></p>
<h1 id="_12">Проверка орфографии</h1>
<p>Простейшая система проверки орфографии может быть основана на использовании списка известных слов.
Если введённое слово не найдено в этом списке, оно помечается как "ошибка".</p>
<p>Попробуем написать подобную систему.</p>
<p>На вход программе первой строкой передаётся количество d известных нам слов, после чего на d 
строках указываются эти слова. Затем передаётся количество l строк текста для проверки, после чего 
l строк текста.</p>
<p>Выведите уникальные "ошибки" в произвольном порядке. Работу производите без учёта регистра.</p>
<pre class="highlight"><code class="language-code">d = set()
for _ in range(int(input())):
    d.add(input().lower())
errors = set()
for _ in range(int(input())):
    for w in input().lower().split():
        if w not in d:
            errors.add(w)
    for e in errors:
        print(e)</code></pre>
<p>Входные данные:</p>
<pre class="highlight"><code>4
champions
we
are
Stepik
3
We are the champignons
We Are The Champions
Stepic</code></pre>
<pre class="highlight"><code class="language-shell">champignons
the
stepic</code></pre>
<hr />
<p><a name="index_entry_p_15"></a></p>
<h1 id="_13">Определение координат</h1>
<p>Написать программу, которая выведет точку, в которой окажется черепашка после всех команд. Для 
простоты они решили считать, что движение начинается в точке (0, 0), и движение на восток 
увеличивает первую координату, а на север — вторую.</p>
<p>Программе подаётся на вход число команд <code>n</code>, которые нужно выполнить черепашке, после чего <code>n</code> строк 
с самими командами. Вывести нужно два числа в одну строку: первую и вторую координату конечной точки 
черепашки. Все координаты целочисленные.</p>
<p><a name="coordinates_1"></a>
Решение 1:</p>
<pre class="highlight"><code class="language-code">x = 0
y = 0
f = {'север': lambda n: (x, y + n),
     'юг': lambda n: (x, y - n),
     'запад': lambda n: (x - n, y),
     'восток': lambda n: (x + n, y)
     }
for _ in range(int(input())):
    dir, n = input().split()
    x, y = f[dir](int(n))
print(x, y) </code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>lambda-выражения описаны <a href="../python_program_elements.html#lambda">здесь</a>.</p>
</div>
<p>Решение 2:</p>
<pre class="highlight"><code class="language-code">x = 0
y = 0
f = {'север': (0, 1),
     'юг': (0, -1),
     'запад': (-1, 0),
     'восток': (1, 0)
     }
for _ in range(int(input())):
    dir, n = input().split()
    n = int(n)
    k1, k2 = f[dir]
    x += k1 * n
    y += k2 * n
print(x, y) </code></pre>
<p>Входные данные:</p>
<pre class="highlight"><code>4
север 10
запад 20
юг 30
восток 40</code></pre>
<pre class="highlight"><code class="language-shell">&gt;python coordinates_1.py &lt; coordinates_input.txt
20 -20</code></pre>
<hr />
<p><a name="index_entry_p_16"></a></p>
<h1 id="_14">Средний рост</h1>
<p>Дан файл с таблицей в формате TSV с информацией о росте школьников разных классов.</p>
<p>Напишите программу, которая прочитает этот файл и подсчитает для каждого класса средний рост 
учащегося.</p>
<p>Файл состоит из набора строк, каждая из которых представляет собой три поля:
Класс Фамилия Рост</p>
<p>Класс обозначается только числом. Буквенные модификаторы не используются. Номер класса может быть 
от 1 до 11 включительно. В фамилии нет пробелов, а в качестве роста используется натуральное число, 
но при подсчёте среднего требуется вычислить значение в виде вещественного числа.</p>
<p>Выводить информацию о среднем росте следует в порядке возрастания номера класса (для классов с 
первого по одиннадцатый). Если про какой-то класс нет информации, необходимо вывести напротив него 
прочерк.</p>
<pre class="highlight"><code class="language-code">def height_statistics(input_file_name):            
    c = [[0] * 2 for i in range(12)]
    with open(input_file_name, 'r', encoding = 'UTF-8') as f: 
        for line in f:
            i, _, h = line.strip().split('\t')
            i = int(i)
            h = float(h)
            c[i][0] += 1
            c[i][1] += h
    return c    

def print_statistics(stats, output_file_name):
    with open(output_file_name, 'w', encoding = 'UTF-8') as f:
        for i in range(1, len(stats)): 
            n, h = stats[i]
            f.write(str(i) + ' ' + (str(h / n) if n &gt; 0 else '-') + '\n')


stats = height_statistics('dataset_3380_5 (2).txt')   
print_statistics(stats, 'average_height_output.txt')</code></pre>
<p>Входные данные:</p>
<pre class="highlight"><code>11  Dyson   171
10  Sykes   169
2   Morrison    131
10  Gilmore 169
11  Foster  173
9   Baldwin 173
7   Vance   165
9   Tracey  174
7   Mercer  156
10  Wallace 173
6   Tracey  153
9   Adderiy 171
5   Mathews 150</code></pre>
<p>После вызова функции, которая выполнила свое действие и записала ответ в файл, мы можем просмотреть 
этот файл в консоли набрав команду <code>type</code> и имя файла.</p>
<pre class="highlight"><code class="language-shell">&gt;type average_height_output.txt
1 125.33333333333333
2 131.5
3 133.0
4 139.0
5 147.2
6 153.0
7 160.14285714285714
8 170.0
9 171.33333333333334
10 168.8
11 174.16666666666666</code></pre>
<hr />
<p><a name="index_entry_p_17"></a>
<a name="index_entry_i_1"></a></p>
<h1 id="_15">Интерпретатор математического выражения</h1>
<p>Напишите простой интерпретатор математического выражения.</p>
<p>На вход подаётся строка с выражением, состоящим из двух чисел, объединённых бинарным оператором: 
<code>a operator b</code>, где вместо <code>operator</code> могут использоваться следующие слова: plus, minus, multiply, 
divide для, соответственно, сложения, вычитания, умножения и целочисленного деления.</p>
<p><strong>Формат ввода:</strong>
Одна строка, содержащая выражение вида <code>a operator b</code>, 0 ≤ a, b ≤ 1000. Оператор может 
быть plus, minus, multiply, divide.</p>
<p><strong>Формат вывода:</strong>
Строка, содержащая целое число -−- результат вычисления.</p>
<p><strong>Sample Input 1:</strong></p>
<p><code>45 plus 8</code></p>
<p><strong>Sample Output 1:</strong></p>
<p><code>53</code></p>
<pre class="highlight"><code class="language-code">arg1 = 0
arg2 = 0
d = {'plus': lambda arg1, arg2 :arg1 + arg2,
     'minus': lambda arg1, arg2 :arg1 - arg2,
     'multiply': lambda arg1, arg2 :arg1 * arg2,
     'divide': lambda arg1, arg2 :arg1 // arg2
     }
arg1, op, arg2 = input().split()
print(d[op](int(arg1), int(arg2)))</code></pre>
<hr />
<p><a name="index_entry_p_18"></a>
<a name="index_entry_i_2"></a></p>
<h1 id="_16">Арифметическая прогрессия</h1>
<p>Напишите программу, которая определяет, являются ли три заданных числа (в указанном порядке) 
последовательными членами арифметической прогрессии.</p>
<p>На вход программе подаются три числа, каждое на отдельной строке.</p>
<p>Программа должна вывести «YES» или «NO» (без кавычек) в соответствии с условием задачи. </p>
<pre class="highlight"><code class="language-code">def is_range(sek):
    if len(sek) &lt; 3:
        return 'NO'
    delta = sek[1] - sek[0]
    for i in range(2, len(sek)):
        if sek[i]- sek[i - 1] != delta:
            return 'NO'
    return 'YES'              

sek = int(input()),int(input()),int(input())
print(is_range(sek))</code></pre>
<p>Входные данные:</p>
<pre class="highlight"><code>2
4
8</code></pre>
<pre class="highlight"><code class="language-shell">NO</code></pre>
<hr />
<p><a name="index_entry_p_19"></a></p>
<h1 id="_17">Возраст собаки</h1>
<p>На вход программе подается число <code>n</code> – количество собачьих лет. Напишите программу, которая 
вычисляет возраст собаки в человеческих годах.</p>
<p>На вход программе подаётся натуральное число – количество собачьих лет.</p>
<p>Программа должна вывести возраст собаки в человеческих годах.</p>
<p><strong>Примечание.</strong> В течение первых двух лет собачий год равен 10.5 человеческим годам. 
После этого каждый год собаки равен 4 человеческим годам.</p>
<pre class="highlight"><code class="language-code">age = float(input())
if 0 &lt; age &lt;= 2:
    print(age * 10.5)
elif age &gt; 2:
    print("{:.0f}".format(21 + (age - 2) * 4))    # форматирование (ответ без нуля после точки)</code></pre>
<hr />
<p><a name="index_entry_p_20"></a></p>
<h1 id="_18">Простые числа</h1>
<p><img src="../../pict/prime_numbers.png" class="floatRight" /></p>
<p>Напишите функцию is_prime(num), которая принимает в качестве аргумента натуральное число и 
возвращает значение True если число является простым и False в противном случае.</p>
<p>Для проверки чисел достаточно проверить только числа до квадратного корня из N. Если делитель не 
обнаружился, то число будет <a href="https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B5_%D1%87%D0%B8%D1%81%D0%BB%D0%BE">простым</a>. 
Таким образом мы уменьшаем время работы функции. </p>
<p style="clear: both;"></p>

<pre class="highlight"><code class="language-code">def is_prime(num):
    if num == 1:
        return False
    for i in range(2, int(num ** 1/2)):
        if num % i == 0:
            return False
    return True

# считываем данные
n = int(input())

# вызываем функцию
print(is_prime(n))</code></pre>
<p>Чтобы найти следующее просто число мы используем предыдущую функцию <code>is_prime</code>:</p>
<pre class="highlight"><code class="language-code">def get_next_prime(num):
    num += 1
    while not is_prime(num):
        num += 1
    return num</code></pre>
<p>&nbsp;</p>
<hr />

<p style="margin-top:0px;margin-bottom:0px;text-align:right;"><a href="2_lists.html" 
title="Previous: 2 Циклы, строки, списки"><img src="../../layout/pict/previous_page.png"
alt="Back"></a>
<a href="4_python_drill.html" title="Next: 4 Python drill"><img 
src="../../layout/pict/next_page.png" alt="Next"></a>
</p>

<script>
function toggleSidebar() {
    let sidebar = document.getElementsByClassName("sidebarWrapper")[0]
    let display = sidebar.style.display
    if (!display || display == "none") {
        sidebar.style.display = "block"
    } else {
        sidebar.style.display = ""
    }
}
</script>

</body>
</html>
