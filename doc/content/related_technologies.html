<!DOCTYPE html>
<html lang="en">
<head><title>Сопутствующие технологии</title>
<meta charset="utf-8">
<link rel="shortcut icon" type="image/png" href="../favicon.png">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../layout/content.css">
<link rel="stylesheet" type="text/css" href="../layout/more_prog_langs.css">
<link rel="stylesheet" type="text/css" href="../themes/light/content_theme.css">
<link rel="stylesheet" type="text/css" href="../themes/light/more_prog_langs_theme.css">
<link rel="stylesheet" type="text/css" href="../layout/layout.css">
<link rel="stylesheet" type="text/css" href="../themes/light/layout_theme.css">
<link rel="stylesheet" type="text/css" href="../custom.css">

<link rel="stylesheet" type="text/css" href="../layout/flex.css">
</head>
<body>

<div class="header">
<img id="burger" src="../layout/pict/burger.png" 
onclick="toggleSidebar();return false;" class="toggle_narrow_only_inline" alt="Sidebar">

<a 
class="header_item "
href="../../readme.html"><img 
class="logo_image" src="../favicon.png" alt="Logo"></a><a 
class="header_item toggle_wide_only_inline"
href="../../readme.html"><span class="">Home</span></a><a 
class="header_item toggle_wide_only_inline"
href="index_page.html"><span class="">Index</span></a><a 
class="header_item "
href="todo_page.html"><span class="">TODO</span></a><a 
class="header_item "
href="problems_page.html"><span class="">Задачи</span></a><a 
class="header_item toggle_narrow_only_inline"
href="index_page.html"><img 
class="header_image index_image" src="../layout/pict/search.png" alt="Index"></a><a 
class="header_item toggle_wide_only_inline "
href="https://github.com/mycatislovely/python_study"><span class="">GitHub</span></a>
<a href="../../doc_src/related_technologies.txt" class="source_file toggle_wide_only_inline" title="Source text">&lt;/&gt;</a>

<a href="command_line_work.html" title="Previous: Работа в командной строке"><img class="headerNavArrows"
src="../layout/pict/previous_page_h21px.png" alt="Back"></a>
 
<a href="python_working_environment.html" title="Next: Рабочая среда Python"><img class="headerNavArrows"
src="../layout/pict/next_page_h21px.png" alt="Next"></a>


<span class="headerTitle">Сопутствующие технологии</span>

</div>

<div class="sidebarWrapper">
<div class="sidebar">
    <table class="sidebarAligner">
        <tr><td class="valign_top">
            <div class="align_right toggle_narrow_only_block">
            <a class="sidebar_item_inline align_right" href="https://github.com/mycatislovely/python_study">GitHub</a>
            
            <a href="../../doc_src/related_technologies.txt" class="sidebar_item_inline source_file align_right" 
                title="Source text">&lt;/&gt;</a>
            
            </div>
            <div class="sidebar_block">
            
            <a class="sidebar_item " href="../../readme.html">Введение</a>
            <a class="sidebar_item " href="architecture.html">Основы программирования</a>
            <a class="sidebar_item " href="program_design.html">Проектирование программ</a>
            <a class="sidebar_item " href="command_line_work.html">Работа в командной строке</a>
            <a class="sidebar_item selected " href="related_technologies.html">Сопутствующие технологии</a>
            <a class="sidebar_item " href="python_working_environment.html">Рабочая среда Python</a>
            <a class="sidebar_item " href="python_program_elements.html">Элементы программы на языке Python</a>
            <a class="sidebar_item " href="programming_techniques.html">Приемы программирования</a>
            <a class="sidebar_item " href="algorithms_and_data_structures.html">Алгоритмы и структуры данных</a>
            <a class="sidebar_item " href="web_programming.html">Веб-программирование</a>
            <a class="sidebar_item " href="technical_English.html">Technical English</a>
            </div><div class="sidebar_block">
            <h3>Задачи</h3>
            <a class="sidebar_item " href="problems/01_12_intro.html">1 Основы</a>
            <a class="sidebar_item " href="problems/2_lists.html">2 Циклы, строки, списки</a>
            <a class="sidebar_item " href="problems/3_final_tasks.html">3 Итоговые задачи</a>
            <a class="sidebar_item " href="problems/4_python_drill.html">4 Python drill</a>
            <a class="sidebar_item " href="problems/5_chess.html">5 Шахматы</a>
            <a class="sidebar_item " href="problems/mini_projects.html">6 Мини проекты</a>
            </div><div class="sidebar_block">
            <h3>Useful links</h3>
            <a class="sidebar_item " href="https://www.python.org/">Python</a>
            <a class="sidebar_item " href="https://git-scm.com/">Git</a>
            </div>
        </td></tr>
        <tr><td class="bottom valign_bottom"><span class="poweredBy">Powered by <a class="poweredByLink"
            href="https://github.com/arctrong/md2html">md2html_py</a> 1.0.7</span>
        </td></tr>
    </table>
</div>
</div>

<p style="font-size:44px;font-weight:bold;margin:0 0 30px 0;">Сопутствующие технологии</p>

<div class="toc">
<ul>
<li><a href="#git">Система контроля версий Git</a><ul>
<li><a href="#_1">Назначение систем контроля версий</a></li>
<li><a href="#_2">Работа с локальным репозиторием</a></li>
<li><a href="#git_1">Структура репозитория Git</a></li>
<li><a href="#_3">Ветки</a></li>
<li><a href="#_4">Работа с удаленным репозиторием</a></li>
</ul>
</li>
</ul>
</div>
<hr />
<p><a name="index_entry_i_1"></a></p>
<h1 id="git">Система контроля версий Git</h1>
<h2 id="_1">Назначение систем контроля версий</h2>
<p>Предположим, у нас есть файл <code>file_1.txt</code> в котором присутствует слово "собака". Назовем это 
первой версией файла. Предположим, что мы заменили слово "собака" на слово "кошка" и таким образом 
получили вторую версию файла. После сохранения первая версия окажется недоступной.</p>
<p>Если мы в рамках некоторого проекта (расположенного в определенном каталоге) поменяем содержимое 
нескольких файлов, добавим или удалим какие-то файлы, то вся совокупность этих изменений 
окажется недоступной для нас, мы будем видеть последнюю версию проекта.</p>
<p>Может сложиться такая ситуация: в какой-то момент времени проект нас устраивает, однако мы добавляем 
в проект новые полезные качества, и проект в целом нас устраивает. Однако оказывается, что какие-то
предыдущие функции проекта стали работать не так как должны. В данном случае нам было бы полезно
просмотреть изменения проекта с момента добавления новых качеств, однако, если мы просто изменяли 
файлы и каталоги, мы будем видеть только последнюю версию и не будем видеть <em>истории</em> изменений.</p>
<p><a name="index_entry_i_2"></a>
<strong>Системы контроля версий</strong> (VCS &mdash; Version Control System) позволяют фиксировать состояния проекта 
в течении времени и 
просматривать получившуюся <strong>историю</strong> с возможностью полной или частичной отмены изменений. </p>
<p>Основные команды по Git 
смотри <a href="https://git-scm.com/book/ru/v2/%D0%9F%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-C%3A-%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-Git-%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B">здесь</a></p>
<h2 id="_2">Работа с локальным репозиторием</h2>
<p><a name="index_entry_i_3"></a>
Основные команды Git. Создание нового <em>репозитория</em>: </p>
<pre class="highlight"><code class="language-shell">&gt;git init
Initialized empty Git repository in E:/dfly/dfly_i/study/python/.git/</code></pre>
<p>Репозиторий создан, но история пока не определена. В корневом каталоге проекта появился каталог
<code>.git</code>. Посмотрим состояние репозитория:</p>
<pre class="highlight"><code class="language-shell">&gt;git statu
On branch master

No commits yet

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)
        .  .  .
        code/
        doc/
        doc_src/
        generate_doc.bat
        generate_doc_force.bat
        md2html_args.json

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
<p>В репозитории имеются неотслеживаемые (untracked) файлы, историю которых Git не ведет. Добавим эти 
файлы в <em>индекс</em>, т.е. "попросим" Git отслеживать историю этих файлов. Однако сначала уберем 
из рассмотрения файлы, которые нам не надо отслеживать. Создадим в корневом каталоге проекта 
файл с именем <code>.gitignore</code> с содержимым: </p>
<pre class="highlight"><code>__pycache__</code></pre>
<p>Содержимое каталога <code>__pycache__</code> генерируется интерпретатором Python. Это содержимое необходимо
для выполнения учебных примеров, однако оно будет каждый раз перегенирироваться по необходимости.
теперь добавим файл  в индекс:</p>
<pre class="highlight"><code class="language-shell">&gt;git add .</code></pre>
<p>Посмотрим состояние репозитория снова:</p>
<pre class="highlight"><code class="language-shell">&gt;git status
On branch master

No commits yet

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)
        .  .  .
        new file:   code/hanoi.py
        new file:   code/hello.py
        new file:   code/my_lib.py
        .  .  .</code></pre>
<p>Теперь мы видим список файлов подготовленных для фиксации состояния. Данное действие практически 
всегда называется "коммитом" (<em>англ.</em> commit). Итак, выполним коммит, но сначала пропишем 
необходимые для коммита идентификаторы пользователя (фиктивные):</p>
<pre class="highlight"><code class="language-shell">&gt;git config --global user.email a@b.c

&gt;git config --global user.name a</code></pre>
<p>Теперь сам коммит:</p>
<pre class="highlight"><code class="language-shell">&gt;git commit -m init
[master (root-commit) 72babed] init
 130 files changed, 13098 insertions(+)
 .  .  .
 create mode 100644 code/hanoi.py
 create mode 100644 code/hello.py
 create mode 100644 code/my_lib.py
 .  .  .</code></pre>
<p>Состояние проекта зафиксировано. При последующем изменении Git покажет нам, что изменилось с момента 
последнего коммита:</p>
<pre class="highlight"><code class="language-shell">&gt;git status
On branch master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
        modified:   doc_src/related_technologies.txt

no changes added to commit (use "git add" and/or "git commit -a")</code></pre>
<p>Мы видим, что с момента последнего коммита изменился только один файл 
<code>doc_src/related_technologies.txt</code>.</p>
<p><a name="index_entry_i_4"></a></p>
<h2 id="git_1">Структура репозитория Git</h2>
<p>Упрощенно репозиторий можно представить состоящим из двух частей: </p>
<ul>
<li><strong>рабочего каталога</strong> &mdash; место, где находятся пользовательские файлы;</li>
<li><strong>индекса</strong> &mdash; специфической области, где Git хранит информацию об истории изменений, а также
    о самом репозитории. Данная область представлена скрытым каталогом с именем <code>.git</code>.</li>
</ul>
<p><a name="index_entry_i_5"></a> </p>
<h2 id="_3">Ветки</h2>
<p><em>Коммит</em> является записью историй изменения и содержит:</p>
<ul>
<li>уникальный идентификатор (хеш, hash);</li>
<li>дату, время и информацию о пользователе;</li>
<li>комментарий;</li>
<li>собственно изменения файлов <em>рабочего каталога</em>;</li>
<li>ссылку на один или несколько родительских коммитов.</li>
</ul>
<p>Ссылки на родительские коммиты формируют цепочку коммитов. Последний коммит в цепочке формирует 
<strong>ветку (branch)</strong>, которая является всего лишь меткой (или указателем) на коммит. При создании нового коммита 
ветка автоматически перемещается на этот коммит.</p>
<p>Чтобы посмотреть в какой ветке ты находишься, надо выполнить команду <code>git branch</code>:</p>
<pre class="highlight"><code class="language-shell">&gt;git branch
  favicon
  file_structure
* main</code></pre>
<p>Здесь видно, что в репозитории есть три ветки. Звездочкой помечена текущая ветка &mdash; <code>main</code>.
Текущую ветку можно посмотреть командой:</p>
<pre class="highlight"><code class="language-shell">&gt;git branch --show-current
main</code></pre>
<h2 id="_4">Работа с удаленным репозиторием</h2>
<p><a name="index_entry_i_6"></a>
Системы контроля версий предназначены для командной работы над проектами, т.е. для ситуаций, когда
несколько разработчиков совместно работают над одной кодовой базой. Git является <strong>распределенной</strong> 
системой контроля версий, т.е. в ней концептуально отсутствует центральный репозиторий. Все 
разработчики получают полную копию репозитория, модифицируют ее и в последствии синхронизируют с
другими копиями. Некоторая копия может быть выбрана в качестве центральной что существенно повышает 
удобство использования. Примером центрального репозитория может быть репозиторий, открытый на 
хостинге GitHub. Получение кодовой базы из удаленного репозитория называется <strong>клонированием</strong>:</p>
<pre class="highlight"><code class="language-shell">$ git clone https://github.com/alovemycat/python_study.git
Cloning into 'python_study'...
...
Resolving deltas: 100% (390/390), done.</code></pre>
<p><a name="index_entry_i_7"></a>
Здесь мы используем эмулятор командной строки Linux git-bash, который идет в комплекте с Git для
Windows. </p>
<p>В результате репозиторий с хостинга GitHub копируется в каталог <code>python_study</code> на локальном 
компьютере:</p>
<pre class="highlight"><code class="language-shell">$ ls
python_study/  test/</code></pre>
<p>Про команду Linux <code>ls</code> см. <a href="command_line_work.html#ls_linux_command">здесь</a>.</p>
<p>Внесем изменения (подробности были рассмотрены выше):</p>
<pre class="highlight"><code class="language-shell">$ cd python_study

$ git status
On branch main
Your branch is up to date with 'origin/main'.

nothing to commit, working tree clean

$ echo Hello! &gt; some_file.txt

$ ls
LICENSE    code/  doc_src/          generate_doc_force.bat  pictures.drawio  some_file.txt
README.md  doc/   generate_doc.bat  md2html_args.json       pictures.svg

$ cat some_file.txt
Hello!

$ git status
On branch main
Your branch is up to date with 'origin/main'.

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)
        some_file.txt

nothing added to commit but untracked files present (use "git add" to track)

$ git add .

$ git  commit -m "test commit"
[main 25c6093] test commit
 1 file changed, 1 insertion(+)
 create mode 100644 some_file.txt

$ git push
Enumerating objects: 4, done.
...</code></pre>
<p><a name="index_entry_i_8"></a>
Команда <code>push</code> отправляет в удаленный репозиторий те изменения локального репозитория, которые
еще не были отправлены.</p>
<p><a name="index_entry_i_9"></a>
Добавленный файл <code>some_file.txt</code> отправлен в центральный репозиторий. Чтобы получить эти изменения
другому разработчику, у которого репозиторий был склонирован ранее, выполняется команда <code>pull</code>:</p>
<pre class="highlight"><code class="language-shell">&gt;git pull
remote: Enumerating objects: 4, done.
...
Fast-forward
 some_file.txt | 1 +
 1 file changed, 1 insertion(+)
 create mode 100644 some_file.txt</code></pre>
<p>&nbsp;</p>
<hr />

<p style="margin-top:0px;margin-bottom:0px;text-align:right;"><a href="command_line_work.html" 
title="Previous: Работа в командной строке"><img src="../layout/pict/previous_page.png"
alt="Back"></a>
<a href="python_working_environment.html" title="Next: Рабочая среда Python"><img 
src="../layout/pict/next_page.png" alt="Next"></a>
</p>

<script>
function toggleSidebar() {
    let sidebar = document.getElementsByClassName("sidebarWrapper")[0]
    let display = sidebar.style.display
    if (!display || display == "none") {
        sidebar.style.display = "block"
    } else {
        sidebar.style.display = ""
    }
}
</script>

</body>
</html>
