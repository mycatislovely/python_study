<!DOCTYPE html>
<html>
<head><title>Работа в командной строке</title>
<meta charset="utf-8">
<link rel="shortcut icon" type="image/png" href="../pict/favicon.png"/>
<link rel="stylesheet" type="text/css" href="../layout/styles.css"/>
<link rel="stylesheet" type="text/css" href="../layout/layout.css"/>
<link rel="stylesheet" type="text/css" href="../theme.css"/>

<style>
.headerNavArrows {position: relative; top: 3px;}
</style>
</head>
<body>

<div class="header"><b><span style="color:#59f;margin-right:7px;">Py</span></b><a 
class="header_item" href="index_page.html">Index</a><a 
class="header_item" href="todo_page.html">TODO</a><a 
class="header_item" href="problems_page.html">Задачи</a><a 
class="header_item" href="https://github.com/alovemycat/python_study">GitHub</a>

<a href="../../doc_src/command_line_work.txt " class="header_item_source" title="Source text">&lt;/&gt;</a>


<a href="program_design.html" title="Previous: Проектирование программ"><img class="headerNavArrows" src="../layout/pict/previous_page_h18px.png"/></a>

<a href="related_technologies.html" title="Next: Сопутствующие технологии"><img class="headerNavArrows" src="../layout/pict/next_page_h18px.png"/></a>


<span class="headerTitle">Работа в командной строке</span>

</div>

<div class="sidebar">
    <table class="sidebarAligner">
        <tr><td valign="top">
            <a class="sidebar_item" href="about.html">Введение</a>
<a class="sidebar_item" href="architecture.html">Основы программирования</a>
<a class="sidebar_item" href="program_design.html">Проектирование программ</a>
<a class="sidebar_item selected" href="command_line_work.html">Работа в командной строке</a>
<a class="sidebar_item" href="related_technologies.html">Сопутствующие технологии</a>
<a class="sidebar_item" href="python_working_environment.html">Рабочая среда Python</a>
<a class="sidebar_item" href="python_program_elements.html">Элементы программы на языке Python</a>
<a class="sidebar_item" href="programming_techniques.html">Приемы программирования</a>
<a class="sidebar_item" href="algorithms_and_data_structures.html">Алгоритмы и структуры данных</a>
<a class="sidebar_item" href="technical_English.html">Technical English</a>
            <h3>Задачи</h3>
            <a class="sidebar_item" href="problems/01_12_intro.html">1 Основы</a>
<a class="sidebar_item" href="problems/2_lists .html">2 Циклы, строки, списки</a>
<a class="sidebar_item" href="problems/3_final_tasks.html">3 Итоговые задачи</a>
<a class="sidebar_item" href="problems/4_python_drill.html">4 Python drill</a>
<a class="sidebar_item" href="problems/5_chess.html">5 Шахматы</a>
<a class="sidebar_item" href="problems/mini_projects.html">6 Мини проекты</a>
            <h3>Useful links</h3>
            <a class="sidebar_item" href="https://www.python.org/">Python</a>
<a class="sidebar_item" href="https://git-scm.com/">Git</a>
        </td></tr>
        <tr><td class="bottom" valign="bottom">
            Generated by md2html_py 1.0.2
            <br />2023-04-19 11:29:46
        </td></tr>
    </table>
</div>

<p style="font-size:44px;font-weight:bold;margin:0 0 30px 0;">Работа в командной строке</p>

<div class="toc">
<ul>
<li><a href="#_1">Интерфейс</a></li>
<li><a href="#_2">Командная строка</a></li>
<li><a href="#_3">Структура файловой системы</a></li>
<li><a href="#_4">Структура команды</a></li>
<li><a href="#windows">Основные команды Windows</a><ul>
<li><a href="#_5">Получение справки</a></li>
<li><a href="#_6">Смена текущего диска</a></li>
<li><a href="#cd-ampmdash">cd &mdash; смена текущего каталога</a></li>
<li><a href="#dir-ampmdash">dir &mdash; просмотр содержимого каталога</a></li>
</ul>
</li>
<li><a href="#_7">Переменные окружения</a></li>
<li><a href="#_8">Порядок поиска исполнимых файлов</a></li>
<li><a href="#_9">Перенаправление ввода/вывода</a></li>
<li><a href="#_10">Генерация входных данных</a></li>
</ul>
</div>
<hr />
<p><a name="index_entry_i_1"></a></p>
<h1 id="_1">Интерфейс</h1>
<p><strong>Интерфейс</strong> &mdash; средство взаимодействия пользователя с программой.</p>
<ul>
<li>
<p><strong>Пользовательский интерфейс</strong> (UI, user's interface), интерфейс, обеспечивающий передачу 
    информации между пользователем-человеком и программно-аппаратными компонентами компьютерной системы.</p>
</li>
<li>
<p><strong>Графический интерфейс</strong>  (GUI, graphic UI), это форма пользовательского интерфейса, которая 
    позволяет пользователям взаимодействовать с устройством с помощью графических элементов (значков, 
    курсоров, кнопок).</p>
</li>
<li>
<p><strong>Интерфейс командной строки</strong> (CLI, command line interface), позволяет управлять работой программ
    посредством ввода команд и получать информацию в текстовом виде.</p>
</li>
</ul>
<p>В данном разделе будет рассмотрен только интерфейс командной строки.</p>
<hr />
<p><a name="index_entry_i_2"></a></p>
<h1 id="_2">Командная строка</h1>
<p><img src="../pict/run_shell.png" title="md2html"
class="floatRight" /></p>

<p><strong>Командная строка</strong>  или <strong>консоль</strong> или <strong>терминал</strong>, является средством, позволяющим использовать 
<em>интерфейс командной строки</em>. Здесь происходит ввод команд и данных, а также вывод данных 
программами. 
Для открытия консоли необходимо нажать <code>Win</code>+<code>R</code>, откроется окно, показанное на картинке, 
набрать имя команды <code>cmd</code> и нажать <code>Enter</code>. Откроется окно следующего вида:</p>
<p style="clear: both;"></p>

<pre class="highlight"><code class="language-shell">C:\Users\user1&gt;</code></pre>
<p>Перед каждой командой будет стоять знак <code>&gt;</code>(в Linux и Mac OS &mdash; <code>$</code>). То, что написано до 
знака <code>$</code> или <code>&gt;</code>, плюс сам знак, всё вместе называется <em>приглашением</em> командной строки.
Как правило, оно включает адрес <em>текущего каталога</em> (будет рассмотрено далее). </p>
<p>В консоли вводятся команды или вызываются программы, которые могут выводить сообщения и другую 
информацию в эту же консоль. Также программы могут запрашивать пользовательский ввод в консоли. 
Помимо этого программы могут выполнять другие действия, например, чтение файлов и запись в файлы, а
также открывать графические окна.</p>
<hr />
<h1 id="_3">Структура файловой системы</h1>
<p>Большинство программ и команд, выполняемых в командной строке, предназначены для работы с 
<em>файлами</em> и <em>каталогами</em>, поэтому следует более подробно рассмотреть что это такое.</p>
<p>Устройства  хранения данных (флешки, жесткие диски и др.)сохраняют данные используя особенности
физического процесса воздействия (намагничивание и т.д.). Контроллеры этих устройств предоставляет 
низкоуровневый доступ к данным, например используя 
физическую адресацию. Конечному пользователю с таким представлением данных работать не удобно. 
Поэтому были разработаны специальные программы, которые трансформируют это представление в более 
удобный и унифицированный (единообразный) вид.</p>
<p><img alt="" src="../pict/tree.png" /></p>
<p>На схеме представлено пользовательское представление данных, хранящихся на устройстве  хранения. 
Элементы данного представления:</p>
<ul>
<li>
<p><strong>логический диск</strong>, который обозначается буквами с двоеточиями: <code>С:</code>, <code>D:</code>. Одно физическое 
    устройство может быть логически разбито на части.</p>
</li>
<li>
<p><strong>файлы</strong> (<em>англ.</em> file) — именованная область на носителе данных, используемая как базовый 
    объект взаимодействия с данными в операционных системах.</p>
</li>
<li>
<p><strong>папки</strong> или <strong>директории</strong> или <strong>каталоги</strong>, это средство логической группировки файлов. Папки 
    могут "содержать" 
    файлы и другие папки, таким образом формируется "древовидная" (иерархическая) структура. </p>
</li>
</ul>
<p><a name="index_entry_i_3"></a> 
Логический 
диск представляется корневым элементом древовидной структуры и называется <strong>корневым каталогом</strong>.</p>
<p>Для указания файла в этой структуре используется <strong>путь</strong> к файлу, который предоставляет перечисление
всех узлов (каталогов) дерева от корневого каталога до данного файла, включая данный файл. Узлы 
перечисляют через <code>\</code>(в ОC Linux и Mac &mdash; через <code>/</code>), например:</p>
<pre class="highlight"><code>С:\folder1\folder2\folder3\file2.txt</code></pre>
<p>где <code>С:\</code> &mdash; это корневой каталог диска. Данный путь является <em>абсолютным</em>, потому что начинается с
корневого каталога.</p>
<p><a name="index_entry_i_4"></a> 
<strong>Текущий каталог</strong> &mdash; это каталог, который выбран в качестве текущего в рамках текущего контекста 
выполнения программы (например, <em>окна терминала</em>). Пути относительно текущего каталога называются 
<em>относительным</em>. Например, при текущем каталоге <code>С:\folder1</code>, <em>относительный</em> путь к 
представленному выше файлу будет <code>folder2\folder3\file2.txt</code>.</p>
<p>Помимо текущего каталога в рамках текущего контекста также определен <strong>текущий диск</strong>. Смена 
текущего каталога и текущего диска будет рассмотрена ниже.</p>
<hr />
<h1 id="_4">Структура команды</h1>
<p>Для выполнения команды в консоли вводят:</p>
<ul>
<li>имя команды или исполнимого файла (в ОС Windows расширения <code>.bat</code> и <code>.exe</code> можно не вводить);</li>
<li>один или несколько аргументов, разделенных пробелами (только в том случае, если аргументы 
    предусмотрены программой и их действительно требуется задавать).</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Передавать аргументы программе можно даже в том случае, если программа никаких аргументов не 
принимает. Переданные аргументы скорее всего будут проигнорированы.</p>
</div>
<pre class="highlight"><code class="language-shell">&gt;mkdir test_dir

&gt;cd test_dir

&gt;mkdir "test dir"

&gt;dir
.  .  .
01.03.2023  22:04    &lt;DIR&gt;          .
01.03.2023  22:04    &lt;DIR&gt;          ..
01.03.2023  22:04    &lt;DIR&gt;          test dir
.  .  . </code></pre>
<p>Первый пример показывает выполнение команды <code>mkdir</code> с аргументом <code>test_dir</code>. Второй пример 
аналогичен, только используется команда <code>cd</code>. В третьем примере строка аргумента содержит пробел, 
поэтому требуется заключить эту строку с пробелом в кавычки (кавычки частью строки аргумента не 
являются), иначе это будет воспринято как два 
аргумента. В четвертом примере выполняется команда <code>dir</code> без аргументов. Эта команда, в отличии от 
предыдущих команд, выводит какую-то информацию в консоль.</p>
<p>В приведенных примерах демонстрируется только процесс выполнения команд. Выполняемые при этом
действия нас сейчас не интересуют.</p>
<hr />
<h1 id="windows">Основные команды Windows</h1>
<p>Все команды Windows можно разделить на две большие группы:</p>
<ul>
<li>Команды командного процессора, т.е. стандартного исполнителя команд работающего в терминале.</li>
<li>Внешние исполнимые файлы (с расширением <code>bat</code>, <code>exe</code> и некоторыми другими), эти файлы могут быть 
    частью ОС Windows, либо установлены отдельно. </li>
</ul>
<h2 id="_5">Получение справки</h2>
<p>Многие стандартные команды и программы ОС Windows имеют аргумент <code>/?</code>, например:</p>
<pre class="highlight"><code class="language-shell">&gt;cd /?
Displays the name of or changes the current directory.

CHDIR [/D] [drive:][path]
CHDIR [..]
CD [/D] [drive:][path]
CD [..]

  ..   Specifies that you want to change to the parent directory.
.  .  .</code></pre>
<p>Данная команда вывела справочную информацию о команде <code>cd</code>. В первой строке дается краткое описание 
выполняемых командой действий. Далее перечислены варианты использования (аргументы).</p>
<h2 id="_6">Смена текущего диска</h2>
<p>Для смены текущего диска следует ввести имя этого диска с двоеточием:</p>
<pre class="highlight"><code class="language-shell">C:\Users1&gt;E:

E:\&gt;</code></pre>
<p>Как показывает <em>подсказка</em> командной строки, до выполнения команды <code>E:</code> текущим диском был <code>C:</code>.</p>
<h2 id="cd-ampmdash"><code>cd</code> &mdash; смена текущего каталога</h2>
<p><code>cd</code> означает "change directory" (сменить каталог).</p>
<pre class="highlight"><code class="language-shell">C:\Users1\test_dir&gt;cd "test dir"

C:\Users1\test_dir\test dir&gt;</code></pre>
<p>В данном примере мы выполнили переход в подкаталог текущего каталога используя <em>относительный путь</em>.
Также были использованы кавычки, потому что имя указанный путь содержит пробел. Для перехода на 
уровень выше (в надкаталог) используется путь <code>..</code>.</p>
<pre class="highlight"><code class="language-shell">C:\Users1\test_dir\test dir&gt;cd ..

C:\Users1\test_dir&gt;</code></pre>
<p>Полезным параметром является ключ <code>/d</code>, который позволяет сменить не только каталог, но и диск.</p>
<pre class="highlight"><code class="language-shell">C:\Users1\test_dir&gt;cd /d E:\python

E:\python&gt;</code></pre>
<p>Команда <code>cd</code> без аргументов печатает путь к текущему каталогу.</p>
<pre class="highlight"><code class="language-shell">E:\python&gt;cd
E:\python

E:\python&gt;</code></pre>
<p><a name="index_entry_i_5"></a></p>
<h2 id="dir-ampmdash"><code>dir</code> &mdash; просмотр содержимого каталога</h2>
<pre class="highlight"><code class="language-shell">C:\Users1\test_dir&gt;dir
 Volume in drive C has no label.
 Volume Serial Number is EDC2-A21E

 Directory of C:\Users1\test_dir

01.03.2023  23:30    &lt;DIR&gt;          .
01.03.2023  23:30    &lt;DIR&gt;          ..
01.03.2023  23:36                69 cd.bat
01.03.2023  22:04    &lt;DIR&gt;          test dir
               1 File(s)             69 bytes
               3 Dir(s)  79 989 538 816 bytes free</code></pre>
<p>Данный пример показывает что в текущем каталоге находится подкаталог <code>test_dir</code> (помечен 
как <code>&lt;DIR&gt;</code>), 
а также файл <code>cd.bat</code> размером 69 байт. Важно отметить что команда <code>dir</code> показывает также 
<em>псевдокаталоги</em>:</p>
<ul>
<li><code>.</code> &mdash; это указатель на текущий каталог;</li>
<li><code>..</code> &mdash; это указатель на родительский каталог.</li>
</ul>
<p>Полезным аргументом является <code>/b</code>, который выводит список каталогов без дополнительной информации.</p>
<pre class="highlight"><code class="language-shell">C:\Users1\test_dir&gt;dir /b
cd.bat
test dir</code></pre>
<hr />
<p><a name="index_entry_i_6"></a></p>
<h1 id="_7">Переменные окружения</h1>
<p><strong>Переменные окружения</strong> (<em>англ.</em> environment variables) &mdash; это переменные, установленные в 
операционной системе (ОС) и доступные всем программам. Значениями этих переменных могут быть только 
строки. Пример:</p>
<pre class="highlight"><code class="language-shell">&gt;set CAT_NAME=Федор

&gt;echo кот %CAT_NAME%
кот Федор</code></pre>
<p>Команда командной строки <code>set</code> устанавливает переменную окружения с именем <code>CAT_NAME</code> и значением
<code>Федор</code>. Интерпретатор командной строки распознает указания переменных (в ОС Windows они 
заключаются в символы <code>%</code>) и заменяет их на соответствующие значения. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>В ОС Windows имена переменных окружения являются регистронезависимыми , т.е. команда 
<code>echo кот %cat_name%</code> будет иметь такой же результат.</p>
<p>В ОС Linux переменные окружения регистрозависимы, т.е. <code>CAT_NAME</code> и <code>cat_name</code> это разные<br />
переменные. Формат указания переменных такой: <code>$CAT_NAME</code> или <code>${CAT_NAME}</code>.</p>
<p>В большинстве случаев принято задавать имена переменных окружения полностью в верхнем регистре.</p>
</div>
<hr />
<p><a name="index_entry_i_7"></a></p>
<h1 id="_8">Порядок поиска исполнимых файлов</h1>
<p>Если в консоли ввести имя исполнимого файла (<code>*.exe</code>, <code>*.bat</code>  и некоторые другие) и нажать клавишу 
<code>Enter</code>, то данный файл будет запущен на исполнение. Однако возникает вопрос: какой именно файл с 
указанным именем будет запущен? Ведь файлы с одинаковыми именами могут существовать в различных
каталогах. Здесь действует следующие правила:</p>
<ul>
<li>сначала указанный файл ищется в текущем каталоге, если файл найден, то он исполняется
    (в OC Linux и MacOS это правило не действует); </li>
<li>если файл не найден, то поиск ведется последовательно в каталогах, перечисленных в переменной 
    <code>PATH</code>;</li>
<li>
<p>если файл не найден, то выдается ошибка:</p>
<pre class="highlight"><code class="language-shell">&gt;unknown.bat
"unknown.bat" не является внутренней или внешней
командой, исполняемой программой или пакетным файлом.</code></pre>
</li>
</ul>
<p>Значение переменной <code>PATH</code> является списком путей каталогов, разделенных символом <code>;</code> (в OC Linux и 
MacOS  разделителем является <code>:</code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>В Windows 10 и 11 графический диалог редактирования переменной <code>PATH</code> представляет пути в виде 
списка. Это сделано для удобства пользователя, на самом деле значение хранится как одна 
строка разделенная символом <code>;</code>.</p>
</div>
<hr />
<p><a name="index_entry_i_8"></a></p>
<h1 id="_9">Перенаправление ввода/вывода</h1>
<p>Различные языки программирования как правило имеют те или иные команды "печати". Например в языке 
Python это команда <code>print()</code>. Эти команды печати на самом деле выводят текст в так называемый 
<em>стандартный поток вывода</em>. По умолчанию этот поток направлен в консоль, однако он может быть 
перенаправлен: </p>
<ul>
<li>в файл; </li>
<li>на вход другой программы.</li>
</ul>
<p>Рассмотрим пример:</p>
<pre class="highlight"><code class="language-shell">&gt;cd
C:\Users1\test_dir

&gt;cd &gt; current_dir.txt

&gt;type current_dir.txt
C:\Users1\test_dir</code></pre>
<p><a name="index_entry_i_9"></a>
Как мы видим команда <code>cd</code> по умолчанию выводит данные в консоль. Директива перенаправления вывода
<code>&gt;</code> предписывает записать эти данные в фай (если такой файл уже существует, то он будет перезаписан).
Команда <code>type</code> просто выводит содержимое файла в консоль. </p>
<p>Директива <code>&gt;&gt;</code> позволяет дописать существующий файл. </p>
<pre class="highlight"><code class="language-shell">&gt;echo la-la-la &gt;&gt; current_dir.txt

&gt;type current_dir.txt
C:\Users1\test_dir
la-la-la</code></pre>
<p>Здесь команда <code>echo</code> печатает заданный текст в стандартный поток вывода, который перенаправляется 
в файл с дописыванием. Если <code>&gt;&gt;</code> заменить на <code>&gt;</code>, то файл перезапишется:</p>
<pre class="highlight"><code class="language-shell">&gt;echo la-la-la &gt; current_dir.txt

&gt;type current_dir.txt
la-la-la</code></pre>
<p>Команда <code>input()</code> в языке Python реализует <em>стандартный ввод</em> программы, который по умолчанию 
осуществляется из консоли (клавиатуры), но может быть выводом другой программы. Например:</p>
<pre class="highlight"><code class="language-shell">&gt;dir /b
cd.bat
current_dir.txt
test dir

&gt;dir /b | find "_"
current_dir.txt</code></pre>
<p>Команда  <code>dir</code> и данном случае выводит три элемента каталога. Команда <code>find</code> может принимать 
через стандартный вход набор строк и выводить только те из них, в которых имеется указанная 
подстрока, в данном случае "_". Перенаправление стандартного ввода из файла задается директивой
<code>&lt;</code>:</p>
<pre class="highlight"><code class="language-shell">&gt;find "a" &lt; current_dir.txt
la-la-la

&gt;find "o" &lt; current_dir.txt

&gt;</code></pre>
<p>С помощью перенаправления потока ввода/вывода можно собирать цепочки команд:</p>
<pre class="highlight"><code class="language-shell">&gt;dir /b | find "_" &gt; list.txt

&gt;type list.txt
current_dir.txt</code></pre>
<p>Здесь команда <code>dir</code> передает свой вывод команде <code>find</code>, которая вместо вывода в консоль записывает 
результаты своей работы в файл.</p>
<hr />
<p><a name="index_entry_i_10"></a></p>
<h1 id="_10">Генерация входных данных</h1>
<p>Программа может принимать многострочные входные данные из стандартного потока ввода (с клавиатуры 
или из файла). Например может быть такая программа на языке Python:</p>
<pre class="highlight"><code class="language-code">while True:
    i = int(input())
    if i &lt; 10:
        continue
    elif i &gt; 100:
        break
    print(i)</code></pre>
<p>При небольшом количестве данных запуск такой программы может выполняться следующим образом:</p>
<pre class="highlight"><code class="language-shell">&gt;(echo 9 &amp; echo 30 &amp; echo 20 &amp; echo 101) | python process_input.py
30
20</code></pre>
<p>Также протестируем данный метод с использованием встроенной команды <code>find</code>:</p>
<pre class="highlight"><code class="language-shell">&gt;(echo a &amp; echo b) | find "b"
b</code></pre>
<p>&nbsp;</p>
<hr />

<p style="margin-top:0px;margin-bottom:0px;text-align:right;"><a href="program_design.html" 
title="Previous: Проектирование программ"><img src="../layout/pict/previous_page.png"/></a>

<a href="related_technologies.html" title="Next: Сопутствующие технологии"><img 
src="../layout/pict/next_page.png"/></a>
</p>

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</body>
</html>
