<!DOCTYPE html>
<html>
<head><title>Проектирование программ</title>
<meta charset="utf-8">
<link rel="shortcut icon" type="image/png" href="../pict/favicon.png"/>
<link rel="stylesheet" type="text/css" href="../layout/styles.css"/>
<link rel="stylesheet" type="text/css" href="../layout/layout.css"/>
<link rel="stylesheet" type="text/css" href="../theme.css"/>

<style>
.headerNavArrows {position: relative; top: 3px;}
</style>
</head>
<body>

<div class="header"><b><span style="color:#59f;margin-right:7px;">Py</span></b><a 
class="header_item" href="index_page.html">Index</a><a 
class="header_item" href="todo_page.html">TODO</a><a 
class="header_item" href="problems_page.html">Задачи</a><a 
class="header_item" href="https://github.com/mycatislovely/python_study">GitHub</a>

<a href="../../doc_src/program_design.txt " class="header_item_source" title="Source text">&lt;/&gt;</a>


<a href="architecture.html" title="Previous: Основы программирования"><img class="headerNavArrows" src="../layout/pict/previous_page_h18px.png"/></a>

<a href="command_line_work.html" title="Next: Работа в командной строке"><img class="headerNavArrows" src="../layout/pict/next_page_h18px.png"/></a>


<span class="headerTitle">Проектирование программ</span>

</div>

<div class="sidebar">
    <table class="sidebarAligner">
        <tr><td valign="top">
            <a class="sidebar_item" href="about.html">Введение</a>
<a class="sidebar_item" href="architecture.html">Основы программирования</a>
<a class="sidebar_item selected" href="program_design.html">Проектирование программ</a>
<a class="sidebar_item" href="command_line_work.html">Работа в командной строке</a>
<a class="sidebar_item" href="related_technologies.html">Сопутствующие технологии</a>
<a class="sidebar_item" href="python_working_environment.html">Рабочая среда Python</a>
<a class="sidebar_item" href="python_program_elements.html">Элементы программы на языке Python</a>
<a class="sidebar_item" href="programming_techniques.html">Приемы программирования</a>
<a class="sidebar_item" href="algorithms_and_data_structures.html">Алгоритмы и структуры данных</a>
<a class="sidebar_item" href="web_programming.html">Веб-программирование</a>
<a class="sidebar_item" href="technical_English.html">Technical English</a>
            <h3>Задачи</h3>
            <a class="sidebar_item" href="problems/01_12_intro.html">1 Основы</a>
<a class="sidebar_item" href="problems/2_lists.html">2 Циклы, строки, списки</a>
<a class="sidebar_item" href="problems/3_final_tasks.html">3 Итоговые задачи</a>
<a class="sidebar_item" href="problems/4_python_drill.html">4 Python drill</a>
<a class="sidebar_item" href="problems/5_chess.html">5 Шахматы</a>
<a class="sidebar_item" href="problems/mini_projects.html">6 Мини проекты</a>
            <h3>Useful links</h3>
            <a class="sidebar_item" href="https://www.python.org/">Python</a>
<a class="sidebar_item" href="https://git-scm.com/">Git</a>
        </td></tr>
        <tr><td class="bottom" valign="bottom">
            Generated by md2html_py 1.0.6
        </td></tr>
    </table>
</div>

<p style="font-size:44px;font-weight:bold;margin:0 0 30px 0;">Проектирование программ</p>

<div class="toc">
<ul>
<li><a href="#_1">Задачи проектирования</a><ul>
<li><a href="#interface">Интерфейс</a></li>
<li><a href="#_2">Моделирование</a></li>
<li><a href="#_3">Декомпозиция</a></li>
</ul>
</li>
<li><a href="#_4">Пример проектирования</a><ul>
<li><a href="#_5">Интерфейс</a></li>
<li><a href="#_6">Моделирование</a></li>
<li><a href="#_7">Декомпозиция</a></li>
</ul>
</li>
<li><a href="#dry">Принцип DRY</a></li>
<li><a href="#-">Объектно-ориентированное программирование</a></li>
</ul>
</div>
<hr />
<h1 id="_1">Задачи проектирования</h1>
<p><a name="index_entry_i_1"></a> 
В процессе <strong>проектирования</strong> программы определяются основные потребительские свойства этой 
программы(<em>интерфейс</em> и функционал), а также в общем виде структурные элементы и способы реализации 
(<em>моделирование</em> и <em>декомпозиция</em>).</p>
<p><a name="index_entry_i_2"></a></p>
<h2 id="interface">Интерфейс</h2>
<p><strong>Интерфейс</strong> определяет способ взаимодействия с программой. Например, это может быть веб-страница 
или консольное приложение. Интерфейс определяет какие данные пользователь вводит в программу, а 
какие получает в качестве результатов, а также определяет способы управления программой.
Данный вид интерфейса называется <strong>пользовательским</strong> (UI, user's interface) и может быть:</p>
<ul>
<li><strong>Графическим интерфейсом</strong>  (GUI, graphic UI), это форма пользовательского интерфейса, которая 
    позволяет пользователям взаимодействовать с устройством с помощью графических элементов (значков, 
    курсоров, кнопок).</li>
<li><strong>Интерфейсом командной строки</strong> (CLI, command line interface), позволяет управлять работой программ
    посредством ввода команд и получать информацию в текстовом виде. Такие программы часто
    называются <em>консольными</em>.</li>
</ul>
<p><img alt="" src="../pict/interfaces_overview.png" /></p>
<p>Программа также может взаимодействовать с другой программой. Способ взаимодействия программ
часто называется <em>протоколом</em>. Протокол можно считать элементом <strong>программного интерфейса</strong>.</p>
<p>На рисунке изображены различные программы с графическим пользовательским интерфейсом (это могут
быть браузер, файловый менеджер, например, Проводник Windows, текстовый редактор,
например Блокнот). Также приведены примеры консольных программ: интерпретатора Python IDLE
и системы контроля версий Git.</p>
<p>Из программных протоколов упомянуты:</p>
<ul>
<li>HTTP(S) &mdash; протокол взаимодействия браузера с сервером (также сервера могут использовать
    этот протокол для взаимодействия друг с другом);</li>
<li>POP/SMTP/IMAP &mdash; набор протоколов, используемых в системе электронной почты.</li>
</ul>
<p>Таким образом получается, что пользователь взаимодействует с программой, например браузером,
используя манипуляции с графическим интерфейсом, а браузер отправляет запросы на сервер и
получает ответы используя программный протокол, например HTTPS.</p>
<p>В случае с консольной программой ситуация аналогичная. Например, пользователь системы контроля
версий Git выполняет в консоли команду <code>git push</code>, после чего программа Git отправляет локальные 
изменения в удаленный репозиторий (например, GitHub), используя специализированный программный 
протокол.</p>
<p>Рассмотренные выше понятие и разновидности интерфейсов трактуют интерфейс достаточно широко.
С точки зрения проектирования мы чаще будем рассматривать интерфейс обособленного фрагмента
программы, т.е. <a href="python_program_elements.html#function"><em>функции</em></a>. Интерфейсом функции
является набор принимаемых аргументов и тип возвращаемого значения. Интерфейс функции определяет 
способ взаимодействия этой функции с другим программным кодом. </p>
<p>Интерфейс не определяет способ реализации функционала программы (или фрагмента программы).</p>
<h2 id="_2">Моделирование</h2>
<p><strong>Модель</strong> &mdash; это такое представление объекта реального мира, которое содержит минимальное количество 
его характеристик, необходимое для решения поставленной задачи. Например: для библиотеки читатель 
представляется как сущность имеющая атрибуты ФИО, адрес, паспортные данные. Такие характеристики как
семейное положение и привычки не требуются.</p>
<h2 id="_3">Декомпозиция</h2>
<p><strong>Декомпозиция</strong> &mdash; это способ управления сложностью задачи, при котором задача разбивается на подзадачи,
которые в свою очередь могут также разбиваться образуя иерархию. Декомпозицию стоит выполнять для 
задач, которые сложно понять и решить без разбиения. Подзадачи следует стараться выделять 
максимально логически завершенными с минимальной зависимостью от остальных задач. В этом случае
возможно найти уже существующие решения, либо созданное решение может быть в последствии 
использовано в других задачах. </p>
<hr />
<p><a name="test_hanoi"></a></p>
<h1 id="_4">Пример проектирования</h1>
<p>Дана функция <a href="problems/4_python_drill.html#hanoi"><code>hanoi</code></a>, которая возвращает последовательность 
перекладывания Ханойской башни. </p>
<p><strong>Задача:</strong> протестировать эту функцию.</p>
<h2 id="_5">Интерфейс</h2>
<p>Функцию тестирования назовем <code>test_hanoi</code>. Она будет принимать те же аргументы (<code>n, s1, s3, s2</code>), 
что и функция <code>hanoi</code>и  проверять работу функции <code>hanoi</code> с заданными аргументами. При положительном 
результате (функция <code>hanoi</code> работает корректно), функция <code>test_hanoi</code> ничего не выводит. В противном 
случае выводит сообщение об ошибке, включающее перечисление аргументов и описание некорректного 
поведения.</p>
<h2 id="_6">Моделирование</h2>
<p>Проверку будем осуществлять посредством эмуляции перекладывания дисков реальных Ханойских башен.
Стержни будут представлены массивами, а диски элементами массивов. Диск у основания
пирамиды будет представлен элементом массива по индексу 0.</p>
<p>Перекладывание будет смоделировано извлечением (удалением) последнего элемента одного массива
и добавлением этого элемента в конец другого массива. </p>
<p>Упомянутые выше массивы удобно расположить в массиве из трех элементов (<code>[[], [], []]</code>) и обращаться 
к ним по индексу. Для этих целей введём требование, что аргументы <code>s1, s2, s3</code> могут принимать 
значения 0, 1 или 2. </p>
<div class="admonition note">
<p class="admonition-title">Замечание</p>
<p>Последнее соображение на самом деле к моделированию не относится, а относится к реализации.
Здесь приведено для удобства последующего описания декомпозиции.</p>
</div>
<h2 id="_7">Декомпозиция</h2>
<p>Весь процесс реализации удобно разделить на следующие подзадачи:</p>
<ol>
<li>
<p>Собираем проверочный стенд.</p>
<p>Заполняем массив с индексом <code>s1</code> числами от <code>n</code> до 1 и в убывающем порядке.</p>
</li>
<li>
<p>Проверяем процесс перекладывания. </p>
<p>Предполагаемый алгоритм. Вызываем функцию <code>hanoi</code>, получаем от нее последовательность 
перекладываний, выполняем 
перекладывания и на каждом шаге проверяем, что добавляемый элемент меньше предыдущего, либо 
является единственным элементом массива, если это не так, то выводим сообщение об ошибке и 
завершаем проверку.</p>
</li>
<li>
<p>Проверяем конечное состояние. </p>
<p>По окончании перекладываний проверим, что в массиве с индексом <code>s3</code> 
находится <code>n</code> элементов, а два других массива пусты.</p>
</li>
</ol>
<p>Реализация теста представлена <a href="problems/4_python_drill.html#hanoi">здесь</a>.</p>
<hr />
<p><a name="index_entry_i_3"></a> </p>
<h1 id="dry">Принцип DRY</h1>
<p>Википедия: <a href="https://ru.wikipedia.org/wiki/Don%E2%80%99t_repeat_yourself">Don’t repeat yourself</a>:</p>
<blockquote>
<p>Принцип DRY формулируется как: «Каждая часть знания должна иметь единственное, непротиворечивое 
и авторитетное представление в рамках системы».</p>
<p>...</p>
<p>Когда принцип DRY применяется успешно, изменение единственного элемента системы не требует 
внесения изменений в другие, логически не связанные элементы. </p>
</blockquote>
<p>Примером следования этому принципу является использование <em>функций</em>. Если имеется фрагмент 
программного кода, решающий определенную задачу, то можно добавлять его в те места программы, 
где он необходим. Однако модификация такого кода потребуется во всех местах, где он был применен.
Это очень сложно или даже невозможно. Выделив данный фрагмент кода в функцию, мы избегаем повторения.
Код становится более управляемым и к тому же  более читабельным.</p>
<p>Аббревиатура <strong>DRY</strong> расшифровывается как <strong>D</strong>on't <strong>R</strong>epeat <strong>Y</strong>ourself &mdash; не повторяйся.
К тому же слово "dry" означает сухой. Программисты иногда говорят: "подсушить код", т.е. вынести
повторяющийся код в отдельные функции.</p>
<hr />
<p><a name="index_entry_i_4"></a> </p>
<h1 id="-">Объектно-ориентированное программирование</h1>
<p>Википедия:
<a href="https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BD%D0%BE-%D0%BE%D1%80%D0%B8%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">Объектно-ориентированное программирование, (<em>англ.</em>) Object Oriented Programming (ООР)</a>:</p>
<blockquote>
<p>Объе́ктно-ориенти́рованное программи́рование (сокр. <em>ООП</em>) — методология программирования, основанная 
на представлении программы в виде совокупности взаимодействующих объектов, каждый из которых 
является экземпляром определённого класса, а классы образуют иерархию наследования.</p>
</blockquote>
<p>Технические детали создания объектов и классов представлены в разделе 
<a href="python_program_elements.html#objects_and_classes">"Объекты и классы"</a>. Здесь будут 
рассмотрены более теоретические вопросы. </p>
<p><em>Типы данных</em> в различных языках используются для определения способа интерпретации значений.
Например: имея ссылку на целое число, транслятор языка руководствуясь описанием типов, принимает 
решение сколько ячеек памяти следует прочитать и каким образом выполнять операции с этим значением.</p>
<p><strong>Классы</strong> можно представить как типы данные созданные программистом. Так же как с другими типами для
использования класса требуется создать соответствующие значения, <strong>экземпляры</strong> класса. </p>
<p>Механизм <strong>наследования</strong> классов в какой-то степени аналогичен наследованию признаков живых существ
от родителей к потомкам в природе. В случае с классами дочерний класс обретает (наследует) все или
часть полей и методов родительского класса.</p>
<p><a name="index_entry_i_5"></a> 
Особенностью языка Python является отсутствие требования соответствия объекта определенному типу 
(классу). В более строгих языках программирования принадлежность объектов определенному классу 
определяет возможность его использования в конкретной ситуации, несмотря на это в языке  Python
является очень важной идея <em>интерфейса</em>. <strong>Интерфейс</strong> определяет поведение реализующих его объектов,
однако сам это поведение не реализует. Рассмотрим интерфейс <a href="python_program_elements.html#iterable_objects">итерируемого объекта</a>, который может включать два метода:</p>
<ul>
<li>сообщить о наличии следующего элемента;</li>
<li>вернуть следующий элемент.</li>
</ul>
<p><a name="iterable_objects"></a>
Данный интерфейс может быть реализован различными объектами например, <em>коллекциями</em> и <em>генераторами</em>.
Цикл <code>for</code> принимает итерируемый объект, который реализует перечисленные выше методы, следовательно
цикл <code>for</code> может работать одинаковым образом с различными объектами, если они реализуют
требуемый интерфейс.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>На самом деле сообщение об отсутствии следующего элемента происходит с использованием 
<a href="python_program_elements.html#exceptions">механизма исключений</a>. Но в контексте данного 
повествования эта особенность не существенна.</p>
</div>
<p><a name="index_entry_i_6"></a>  <br />
Один объект может реализовывать более одного интерфейса, например рассмотрим <em>списки</em> и <em>словари</em>. Для
доступа к элементам этих коллекций используются квадратные скобки, то же самое можно делать и со 
строками. Поддержка такого способа доступа также является реализацией интерфейса (subscriptable). 
Объекты не реализующие этот интерфейс (например, число) такой способ доступа не поддерживают. </p>
<pre class="highlight"><code class="language-shell">&gt;&gt;&gt; n=5
&gt;&gt;&gt; n[0]
TypeError: 'int' object is not subscriptable </code></pre>
<p>&nbsp;</p>
<hr />

<p style="margin-top:0px;margin-bottom:0px;text-align:right;"><a href="architecture.html" 
title="Previous: Основы программирования"><img src="../layout/pict/previous_page.png"/></a>

<a href="command_line_work.html" title="Next: Работа в командной строке"><img 
src="../layout/pict/next_page.png"/></a>
</p>

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</body>
</html>
